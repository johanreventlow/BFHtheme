% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/branding.R
\name{add_bfh_logo}
\alias{add_bfh_logo}
\title{Add BFH Logo to a Plot}
\usage{
add_bfh_logo(
  plot,
  logo_path,
  position = "bottomright",
  size = 0.1,
  alpha = 1,
  padding = 0.02
)
}
\arguments{
\item{plot}{A ggplot2 object.}

\item{logo_path}{Path to a PNG or JPEG logo file.}

\item{position}{Logo location: `"topleft"`, `"topright"`, `"bottomleft"`, or
`"bottomright"`. Defaults to `"bottomright"`.}

\item{size}{Relative width of the logo (0–1). Defaults to `0.1` (10% of plot width).
Height is derived from the image aspect ratio.}

\item{alpha}{Transparency of the logo (0–1). Defaults to `1` (fully opaque).}

\item{padding}{Padding from plot edge as a fraction of plot size. Defaults to `0.02`.}
}
\value{
Modified ggplot2 object with the logo applied.
}
\description{
Places a Bispebjerg og Frederiksberg Hospital logo onto an existing ggplot,
preserving the original chart while adding brand context.
}
\details{
The helper reads PNG or JPEG files supplied via `logo_path`. Aspect ratio is
preserved automatically, and the logo is positioned using absolute
coordinates based on the selected corner. For packaged logos, see [add_logo()]
and [get_bfh_logo()].
}
\section{Security}{

This function implements multiple security layers to ensure safe file handling:

**Path Normalization:**
File paths are normalized and verified twice to prevent path traversal attacks
and ensure path stability. This guards against tampering attempts where a path
might resolve differently on subsequent calls.

**Root Directory Restriction (Optional):**
You can restrict logo loading to a specific directory tree by setting:
```
options(BFHtheme.logo_root = "/safe/directory")
```
When set, only logos within this directory (or subdirectories) can be loaded.
This is useful in multi-user environments or when processing untrusted input.

**File Integrity Checks:**
Files are verified to be readable and non-empty before processing, preventing
errors from corrupted or inaccessible files.
}

\examples{
\dontrun{
library(ggplot2)
p <- ggplot(mtcars, aes(wt, mpg)) +
  geom_point() +
  theme_bfh()

# Option 1: Use packaged logo via get_bfh_logo()
logo_path <- get_bfh_logo(size = "web", variant = "color")
add_bfh_logo(p, logo_path, position = "topright")

# Option 2: Use any custom logo file (adjust path as needed)
# add_bfh_logo(p, "/path/to/your/logo.png", position = "topright")
}
}
\seealso{
[add_logo()], [get_bfh_logo()], [add_bfh_footer()], [add_bfh_color_bar()]

Other BFH branding: 
\code{\link{add_bfh_color_bar}()},
\code{\link{add_bfh_footer}()},
\code{\link{add_logo}()},
\code{\link{bfh_title_block}()},
\code{\link{get_bfh_logo}()}
}
\concept{BFH branding}
